# دليل إدارة الصلاحيات والأدوار (Roles & Permissions)

هذا الدليل يشرح كيفية إدارة نظام الصلاحيات والأدوار في النظام. يعتمد النظام على مبدأ **التحكم في الوصول القائم على الأدوار (RBAC)**، حيث يتم تعيين الصلاحيات للأدوار، ثم يتم تعيين المستخدمين لهذه الأدوار.

## المفاهيم الأساسية

### 1. الأدوار (Roles)
الدور هو مجموعة من الصلاحيات التي تمثل وظيفة أو مسؤولية معينة في النظام.
**أمثلة:** مدير النظام، مدير المشروع، موظف، مراقب مالي.

### 2. الصلاحيات (Permissions)
الصلاحية هي إذن للقيام بإجراء محدد في النظام.
**أمثلة:** إنشاء مشروع، تعديل مستخدم، حذف تقرير.

---

## كيفية إدارة الأدوار

1. اذهب إلى القائمة الجانبية واختر **"الصلاحيات والأدوار"** > **"إدارة الأدوار"**.
2. ستظهر قائمة بجميع الأدوار الموجودة في النظام مع عدد المستخدمين المعينين لكل دور.
3. لإنشاء دور جديد، اضغط على زر **"إضافة دور جديد"**.
4. لتعديل صلاحيات دور، اضغط على زر **"الصلاحيات"** بجانب الدور المطلوب.

---

## كيفية تعيين الصلاحيات للأدوار

1. من صفحة **"إدارة الأدوار"**، اضغط على **"الصلاحيات"** بجانب الدور المراد تعديله.
2. ستظهر لك قائمة بجميع الصلاحيات المتاحة في النظام مقسمة حسب الأقسام (المشاريع، المستخدمين، الإعدادات، إلخ).
3. قم بتحديد (Check) الصلاحيات التي تريد منحها لهذا الدور.
4. اضغط على زر **"حفظ التغييرات"**.

> [!NOTE]
> أي مستخدم يمتلك هذا الدور سيحصل تلقائياً على الصلاحيات الجديدة التي قمت بإضافتها.

---

## كيفية تعيين الأدوار للمستخدمين

هناك طريقتان لتعيين دور لمستخدم:

### الطريقة الأولى: من صفحة المستخدمين
1. اذهب إلى **"الهيكل"** > **"الموظفين"**.
2. ابحث عن الموظف المطلوب واضغط على زر **"تعديل"** أو **"إدارة الأدوار"**.
3. اختر الأدوار التي تريد تعيينها للموظف.
4. احفظ التغييرات.

### الطريقة الثانية: من صفحة الأدوار
1. اذهب إلى **"إدارة الأدوار"**.
2. اضغط على زر **"المستخدمين"** بجانب الدور المطلوب.
3. قم بإضافة أو إزالة المستخدمين من هذا الدور.

---

## جدول الصلاحيات الشائع

| اسم الصلاحية | الوصف |
| :--- | :--- |
| `admin_users.create` | السماح بإنشاء مستخدمين جدد |
| `project.create` | السماح بإنشاء مشاريع جديدة |
| `project.index` | السماح باستعراض قائمة المشاريع |
| `workflow.pending` | الوصول إلى المهام المعلقة في سير العمل |

> [!WARNING]
> كن حذراً عند منح صلاحيات الحذف (`delete`) أو صلاحيات إدارة النظام (`admin`)، حيث يمكن أن تؤثر على استقرار البيانات.
